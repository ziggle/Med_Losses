"0",""
"0","raw = tibble(src = xpath_)"
"2","Expected 2 pieces. Missing pieces filled with `NA` in 7 rows [1, 3, 21, 119, 246, 363, 426]."
"0","ship_type = dsplit %>% "
"0","            mutate(type = word(other,1)) %>% "
"0","            distinct(type)"
"0","            mutate(year = ifelse(is.na(other),month, NA)) %>% "
"0","            fill(year) %>% "
"0",""
"0","clean_month = with_year %>% "
"0","            separate(month,c(""month"",NA))"
"2","Expected 2 pieces. Missing pieces filled with `NA` in 65 rows [39, 40, 66, 82, 83, 84, 85, 126, 127, 138, 139, 165, 166, 192, 194, 195, 201, 213, 214, 215, ...]."
"0","with_date   = clean_month %>% "
"0","              mutate(dt = paste0(month,"" 1, "",year)) %>% "
"0","              mutate(dt = mdy(dt)) %>% "
"0","              select(date = dt, other)"
"0",""
"0","remove.list = c(""Motor"",""Trawler"",""Tug"",""Landing"",""Yacht"",""Whaler"",""Drifter"",""Human"",""Water"",""River"",""Harbour"",""Salvage"",""Boom"",""Store"",""Transport"",""Tanker/oiler"",""Convoy"",""Armament"",""Auxiliary"",""Small"",""Armed"",""Mooring"",""Schooner"",""Minelayer "",""Minesweeper "")"
"0","parse = warships %>% "
"0","        mutate(name1 = str_replace(other, ""([A-Z]{2,})"", ""|\\1"")) %>% "
"0","        mutate(name2 = str_replace(name1,"" \\("",""|\\("")) %>% "
"0","        mutate(name3 = str_replace(name2,""\\),"",""\\)|"")) %>%"
"0","        mutate(name4 = str_replace(name3,""P-"",""|P-"")) %>% "
"0","        mutate(name5 = str_replace(name4,""No."",""|No."")) %>% "
"0","        mutate(name5 = str_replace(name5, 'Cruiser minelayer','Minelayer')) %>% "
"0","        mutate(name5 = str_to_title(name5)) %>% "
"0","        mutate(name5 = str_trim(name5, side='both'))"
"0",""
"0","parse2 = parse %>% "
"0","        separate(col = name5, into=c('Type','Name',NA),sep='\\|') %>% "
"0","        select(Date=date, Type, Name)  %>% "
"0","        filter(Type!=""Submarine Depot Ship "") %>% "
"0","        filter(Type!='Cutter ') %>% "
"0","        filter(Type!=""Minelayer "") %>% "
"0","        filter(Type!=""Minesweeper "")"
